<template>
    <div class="flex min-h-screen flex-col">
        <!-- Header -->
        <header ref="headerEl" class="sticky top-0 z-50 rounded-sm px-8 py-4">
            <nav
                class="navbar border-base-300 justify-between rounded-md px-4 py-2 transition-all duration-75"
                :class="{
                    'border-x-2 border-b-4 bg-white shadow-xs':
                        scrollTopY > 150 || windowWidth < 640,
                }"
            >
                <RouterLink
                    :to="{ name: authenticated ? 'dashboard' : 'home' }"
                >
                    <Logo color="primary"></Logo>
                </RouterLink>

                <ul class="hidden items-center gap-8 md:flex">
                    <li v-if="authenticated">
                        <RouterLink
                            :to="{ name: 'argument-new' }"
                            class="btn btn-primary"
                        >
                            Nov칳 argument
                        </RouterLink>
                    </li>
                    <template v-else>
                        <RouterLink
                            :to="{ name: 'login' }"
                            class="btn btn-secondary"
                        >
                            Prihl치si콘 sa
                        </RouterLink>
                        <RouterLink
                            :to="{ name: 'register' }"
                            class="btn btn-primary"
                        >
                            Zaregistrova콘 sa
                        </RouterLink>
                    </template>
                </ul>
                <details
                    class="dropdown dropdown-end block marker:hidden md:hidden"
                >
                    <summary class="btn btn-square btn-primary p-5">
                        <i class="bx bx-menu bx-md"></i>
                    </summary>
                    <ul
                        class="menu dropdown-content bg-base-200 rounded-box z-1 w-52 gap-4 p-2 shadow-sm"
                    >
                        <li v-if="authenticated">
                            <RouterLink
                                :to="{ name: 'argument-new' }"
                                class="btn btn-primary"
                            >
                                Nov칳 argument
                            </RouterLink>
                        </li>
                        <template v-else>
                            <li>
                                <RouterLink
                                    :to="{ name: 'register' }"
                                    class="bg-primary"
                                >
                                    Zaregistrova콘 sa
                                </RouterLink>
                            </li>
                            <li>
                                <RouterLink
                                    :to="{ name: 'login' }"
                                    class="bg-secondary"
                                >
                                    Prihl치si콘 sa
                                </RouterLink>
                            </li>
                        </template>
                    </ul>
                </details>
            </nav>
        </header>

        <!-- Main -->
        <main class="flex grow flex-col">
            <!-- Hero -->
            <section
                class="from-base-100 to-base-300 flex flex-col items-center justify-center gap-4 bg-gradient-to-b p-4 text-center"
                :style="{
                    height: heroSectionHeight,
                }"
            >
                <h2
                    class="text-accent-content bg-accent rounded-sm p-4 text-xl font-bold md:text-3xl"
                >
                    5 min칰tov칠 argumenty:
                    <span class="text-xl font-normal md:text-3xl">
                        nau캜te sa p칤sa콘 argumenty pod tlakom.
                    </span>
                </h2>
                <p
                    id="thesis-animated"
                    class="bg-secondary text-secondary-content rounded-sm p-4 text-xl font-bold md:p-8 md:text-3xl"
                ></p>

                <RouterLink
                    :to="{ name: 'register' }"
                    class="btn btn-lg btn-primary"
                >
                    Zaregistrova콘 sa
                </RouterLink>
            </section>

            <!-- Why? -->
            <section
                class="flex flex-col items-center justify-center gap-8 bg-white px-8 py-16"
            >
                <h2 class="text-3xl">Pre캜o p칤sa콘 argumenty?</h2>

                <ul
                    class="grid grid-cols-1 items-center justify-center gap-8 md:grid-cols-2 xl:grid-cols-4"
                >
                    <li
                        class="card bg-primary text-primary-content h-full w-full shadow-sm"
                    >
                        <div class="card-body">
                            <h2 class="card-title">Kritick칠 myslenie</h2>
                            <p>
                                Schopnos콘 h쬬da콘 s칰vislosti medzi r칪znymi
                                inform치ciami, usporiada콘 si my코lienky, odhali콘
                                siln칠 a slab칠 str치nky argumentov a pos칰di콘 ich
                                silu a d칪le쬴tos콘 v kontexte diskusie.
                            </p>
                        </div>
                    </li>

                    <li
                        class="card bg-secondary text-secondary-content h-full w-full shadow-sm"
                    >
                        <div class="card-body">
                            <h2 class="card-title">Argumenta캜n칠 schopnosti</h2>
                            <p>
                                Schopnos콘 vysvetli콘 svoje postoje a n치zory
                                presved캜ivo tak, aby boli zrozumite쬹칠 aj 쬿캞om
                                s in칳m poh쬬dom, schopnos콘 vyh칳ba콘 sa logick칳m
                                chyb치m.
                            </p>
                        </div>
                    </li>

                    <li
                        class="card bg-accent text-accent-content h-full w-full shadow-sm"
                    >
                        <div class="card-body">
                            <h2 class="card-title">Medi치lna gramotnos콘</h2>
                            <p>
                                N치vyk overova콘 inform치cie z viacer칳ch zdrojov,
                                vyh쬬d치va콘 p칪vod spr치v, 코tatist칤k a fotografi칤.
                                Schopnos콘 spr치vne interpretova콘 d치ta a grafy a
                                nepod쬬hn칰콘 manipul치ci치m.
                            </p>
                        </div>
                    </li>

                    <li
                        class="card bg-base-300 text-base-bg-base-300-content h-full w-full shadow-sm"
                    >
                        <div class="card-body">
                            <h2 class="card-title">Rozm칳코쬬nie pod n치tlakom</h2>
                            <p>
                                Schopnos콘 jasne formulova콘 svoje my코lienky a
                                pohoto reagova콘. 캛asov칠 obmedzenie vytv치ra
                                n치tlak, ktor칳m sa dosiahne kritick칠 myslenie a
                                rozlo쬰nie 캜asu.
                            </p>
                        </div>
                    </li>
                </ul>
            </section>

            <!-- Pros -->
            <section
                class="bg-base-200 flex flex-col items-center justify-center gap-8 px-8 py-16"
            >
                <h2 class="text-3xl font-bold">V칳hody</h2>

                <ul class="flex max-w-lg flex-col gap-4">
                    <li
                        class="collapse-arrow border-base-300 collapse border bg-white"
                    >
                        <input
                            type="radio"
                            name="my-accordion-2"
                            checked="checked"
                        />
                        <div class="collapse-title font-semibold">
                            Len 5 min칰t!
                        </div>
                        <div class="collapse-content">
                            V dne코nom svete, kde nikto nem치 na ni캜 캜as a z치rove켿
                            sa nikomu ni캜 nechce sa tieto dva probl칠my rie코ia
                            캜asov칳m obmedzen칤m na 5 min칰t. Ke캞 za캜ne코 p칤sa콘, tak
                            ve쬸i r칳chlo zist칤코 ako 5 min칰t je stra코ne m치lo 캜asu
                            a z치rove켿 dostatok 캜asu na nap칤sanie dobr칠ho
                            argumentu.
                        </div>
                    </li>
                    <li
                        class="collapse-arrow border-base-300 collapse border bg-white"
                    >
                        <input type="radio" name="my-accordion-2" />
                        <div class="collapse-title font-semibold">
                            Okam쬴t칠 ohodnotenie a sp칛tn치 v칛zba
                            <span class="text-accent">*</span>
                        </div>
                        <div class="collapse-content">
                            Po dop칤san칤 argumentu bude tvoj argument ohodnoten칳
                            od 0 do 15 bodov pod쬬 krit칠ri칤, ako vysvetlenie,
                            d칪kazov a strat칠gie. Neboj, toto hodnotenie je 캜isto
                            orienta캜n칠 a nemal by si si ho bra콘 k srdcu.

                            <br />
                            <br />

                            <span class="text-accent text-sm">
                                *Sp칛tn치 v칛zba je tvoren치 umelou inteligenciou,
                                ktor치 m칪쬰 robi콘 chyby.
                            </span>
                        </div>
                    </li>
                    <li
                        class="collapse-arrow border-base-300 collapse border bg-white"
                    >
                        <input type="radio" name="my-accordion-2" />
                        <div class="collapse-title font-semibold">
                            Zdie쬬nie argumentov
                        </div>
                        <div class="collapse-content">
                            Svoje argumenty m칪쬰코 zdie쬬콘 s k칳mko쭀ek chce코,
                            nako쬶o ka쬯칳 argument je verejne dostupn칳, ak m치코
                            na켿 odkaz 游땕
                        </div>
                    </li>
                </ul>
            </section>
        </main>

        <!-- Footer -->
        <footer
            class="footer sm:footer-horizontal bg-base-300 text-base-300-content p-10"
        >
            <nav>
                <h6 class="footer-title">QuickLogic</h6>
                <RouterLink to="" class="link link-hover">Kontakt</RouterLink>
                <RouterLink to="" class="link link-hover">
                    Podmienky pou쮂셨ania
                </RouterLink>
                <RouterLink to="" class="link link-hover">
                    Z치sady ochrany osobn칳ch 칰dajov
                </RouterLink>

                <p class="mt-4">
                    Copyright 춸 {{ new Date().getFullYear() }} - Tom치코 Kri코ko
                </p>
            </nav>
        </footer>
    </div>
</template>
<script setup>
import { computed, onMounted, onUnmounted, ref } from "vue";
import { RouterLink } from "vue-router";
import Logo from "../components/Icons/Logo.vue";
import useAuth from "../composables/useAuth";

// Composables
const { authenticated } = useAuth();

// Lifecycle
onMounted(() => {
    // Typewriter animation
    const typewriter = new Typewriter("#thesis-animated", {
        loop: true,
        delay: 10,
    });

    typewriter
        .typeString(
            "맒oly by mali 칰plne zru코i콘 zn치mkovanie a hodnoti콘 코tudentov in칳m sp칪sobom.",
        )
        .pauseFor(5000)
        .deleteAll()
        .typeString(
            "Soci치lne siete sp칪sobuj칰 viac 코kody ako 칰쬴tku v modernej spolo캜nosti.",
        )
        .pauseFor(5000)
        .deleteAll()
        .typeString(
            "Pracovn칳 t칳쬯e켿 by mal by콘 skr치ten칳 na 코tyri dni bez zn칤쬰nia platu.",
        )
        .pauseFor(5000)
        .deleteAll()
        .typeString("Volebn칠 pr치vo by malo by콘 podmienen칠 testom inteligencie.")
        .pauseFor(5000)
        .start();

    // Scroll
    window.addEventListener("scroll", onScroll);

    // Resize
    window.addEventListener("resize", onResize);
    windowWidth.value = window.innerWidth;
});

onUnmounted(() => {
    // Scroll
    window.removeEventListener("scroll", onScroll);

    // Resize
    window.removeEventListener("resize", onResize);
});

// Variables
const headerEl = ref(null);
const scrollTopY = ref(0);
const windowWidth = ref(0);

// Computed
const headerHeight = computed(() => {
    return (headerEl.value ? headerEl.value.offsetHeight : 0) + "px";
});
const heroSectionHeight = computed(() => {
    return (
        "calc(100svh - " +
        (headerEl.value ? headerEl.value.offsetHeight : 0) +
        "px)"
    );
});

// Functions
function onScroll() {
    scrollTopY.value = window.top.scrollY;
}
function onResize() {
    windowWidth.value = window.innerWidth;
}
</script>
